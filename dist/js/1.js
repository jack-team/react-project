(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{DuDb:function(t,e,n){"use strict";n.r(e);var o=n("JPst"),r=n.n(o)()(!1);r.push([t.i,".index-moudle-container-hxP7cgTR{padding:20px;overflow:hidden}.index-moudle-header-1Gi2oW1v{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:16px;cursor:pointer}.index-moudle-text-1N3HlZn-{color:#666;font-size:14px}.index-moudle-content-P1ALnTuU{padding:24px;border-radius:12px;background-color:#ececec}.index-moudle-json_content-MCb0molF{width:100%;font-size:13px;overflow:hidden;line-height:25px;word-wrap:break-word;white-space:normal;word-break:break-all}.index-moudle-go_history-3RWT4y-_{color:#666;font-size:16px}",""]),r.locals={container:"index-moudle-container-hxP7cgTR",header:"index-moudle-header-1Gi2oW1v",text:"index-moudle-text-1N3HlZn-",content:"index-moudle-content-P1ALnTuU",json_content:"index-moudle-json_content-MCb0molF",go_history:"index-moudle-go_history-3RWT4y-_"},e.default=r},F9s8:function(t,e,n){var o=n("LboF"),r=n("DuDb");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);t.exports=r.locals||{}},QeBL:function(t,e,n){"use strict";n.r(e);var o,r=n("q1tI"),i=n.n(r),a=n("vDqi"),c=n.n(a),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this,e)||this;return n.timer=null,n.start=function(){if(n.state.disabled)return!1;n.setState({disabled:!0},n.startIn)},n.startIn=function(){n.timer=setInterval(n.runCount,1e3)},n.runCount=function(){var t=n.state.count,e=n.props.time;t-=1,n.setState({count:t}),t<=0&&(n.clearTimer(),n.setState({count:e,disabled:!1},n.onPost))},n.clearTimer=function(){n.timer&&(clearInterval(n.timer),n.timer=null)},n.onPost=function(){var t,e;null===(e=null===(t=n.props)||void 0===t?void 0:t.onPost)||void 0===e||e.call(t)},n.state={disabled:!1,count:e.time},n}return l(e,t),e.prototype.componentWillUnmount=function(){this.clearTimer()},e.prototype.render=function(){var t=this.state.count;return this.props.children(t)},e.defaultProps={time:60},e}(i.a.Component),u=n("0m/I"),p=n("F9s8"),d=n.n(p),f=n("xPac"),h=function(t){return{payload:t,type:f.a}},m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),y=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},v=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}l((o=o.apply(t,e||[])).next())}))},b=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},w="https://api.github.com",x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timer=null,e.countInstance=null,e.state={loading:!1,jsonString:""},e.clearTimer=function(){e.timer&&(clearInterval(e.timer),e.timer=null)},e.goHistory=function(){e.props.history.push("/history")},e.onStartCountDown=function(){var t,n;null===(n=null===(t=e.countInstance)||void 0===t?void 0:t.start)||void 0===n||n.call(t)},e.onFetch=function(){return v(e,void 0,void 0,(function(){var t,e,n,o,r,i,a=this;return b(this,(function(l){switch(l.label){case 0:this.setState({loading:!0}),t=Date.now(),e="",n=!0,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,c.a.get(w)];case 2:return o=l.sent().data,e=o?JSON.stringify(o):"",[3,4];case 3:return l.sent(),n=!1,[3,4];case 4:return this.timer=setTimeout((function(){a.setState({loading:!1,jsonString:e},a.onStartCountDown)}),1e3),null===(i=(r=this.props).saveHistory)||void 0===i||i.call(r,{id:""+Date.now(),success:n,jsonData:e,startTime:t,endTime:Date.now()}),[2]}}))}))},e.renderContent=function(t){var n=e.state.loading;return i.a.createElement("div",{className:d.a.text},n?"接口请求中...":t+" 秒后发送请求")},e}return m(e,t),e.prototype.componentDidMount=function(){this.onStartCountDown()},e.prototype.componentWillUnmount=function(){this.clearTimer()},e.prototype.render=function(){var t=this,e=this.state.jsonString;return i.a.createElement("div",{className:d.a.container},i.a.createElement("div",{className:d.a.header},i.a.createElement(s,{time:5,onPost:this.onFetch,children:this.renderContent,ref:function(e){return t.countInstance=e}}),i.a.createElement("div",{className:d.a.go_history,onClick:this.goHistory},"请求历史>")),e?i.a.createElement("div",{className:d.a.content},i.a.createElement("div",{className:d.a.json_content},e)):null)},e=y([Object(u.a)(["historyData"],{saveHistory:h})],e)}(i.a.PureComponent);e.default=x}}]);